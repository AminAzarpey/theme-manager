!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ThemeManager={})}(this,function(e){"use strict";const t="tm_theme",o="tm_palette",n="tm_dir";let i,l,r,c="dist";const a="theme-css";function m(){const e={theme:i,palette:l,direction:r};window.dispatchEvent(new CustomEvent("themeChange",{detail:e}))}function s(){const e=`${c}/${`theme-${i}.${l}${"rtl"===r?".rtl":".ltr"}.css`}`,t=document.getElementById(a);if(document.body.className=`theme-${i} palette-${l}`,document.documentElement.setAttribute("dir",r),t)t.setAttribute("href",e);else{const t=document.createElement("link");t.id=a,t.rel="stylesheet",t.href=e,document.head.appendChild(t)}}function d(e={}){!function(e={}){i=!e.ignoreStorage&&localStorage.getItem(t)||e.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),l=!e.ignoreStorage&&localStorage.getItem(o)||e.palette||"default",r=!e.ignoreStorage&&localStorage.getItem(n)||e.direction||"ltr",c=e.baseHref||c}(e),s(),m()}function g(e){i=e,localStorage.setItem(t,e),s(),m()}function f(e){r=e,localStorage.setItem(n,e),s(),m()}e.applyPalette=function(e){l=e,localStorage.setItem(o,e),s(),m()},e.getCurrentConfig=function(){return{theme:i,palette:l,direction:r}},e.initThemeSystem=d,e.resetThemeSystem=function(){localStorage.removeItem(t),localStorage.removeItem(o),localStorage.removeItem(n),d()},e.setDirection=f,e.setTheme=g,e.toggleDirection=function(){f("ltr"===r?"rtl":"ltr")},e.toggleTheme=function(){g("light"===i?"dark":"light")}});
//# sourceMappingURL=core.js.map
