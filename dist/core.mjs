const e="tm_theme",t="tm_palette",o="tm_dir";let n,l,r,c="dist";const a="theme-css";function i(){const e={theme:n,palette:l,direction:r};window.dispatchEvent(new CustomEvent("themeChange",{detail:e}))}function m(){const e=`${c}/${`theme-${n}.${l}${"rtl"===r?".rtl":".ltr"}.css`}`,t=document.getElementById(a);if(document.body.className=`theme-${n} palette-${l}`,document.documentElement.setAttribute("dir",r),t)t.setAttribute("href",e);else{const t=document.createElement("link");t.id=a,t.rel="stylesheet",t.href=e,document.head.appendChild(t)}}function d(a={}){!function(a={}){n=!a.ignoreStorage&&localStorage.getItem(e)||a.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),l=!a.ignoreStorage&&localStorage.getItem(t)||a.palette||"default",r=!a.ignoreStorage&&localStorage.getItem(o)||a.direction||"ltr",c=a.baseHref||c}(a),m(),i()}function s(){g("light"===n?"dark":"light")}function g(t){n=t,localStorage.setItem(e,t),m(),i()}function u(e){l=e,localStorage.setItem(t,e),m(),i()}function h(e){r=e,localStorage.setItem(o,e),m(),i()}function f(){h("ltr"===r?"rtl":"ltr")}function S(){localStorage.removeItem(e),localStorage.removeItem(t),localStorage.removeItem(o),d()}function p(){return{theme:n,palette:l,direction:r}}export{u as applyPalette,p as getCurrentConfig,d as initThemeSystem,S as resetThemeSystem,h as setDirection,g as setTheme,f as toggleDirection,s as toggleTheme};
//# sourceMappingURL=core.mjs.map
