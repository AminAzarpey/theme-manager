{"version":3,"file":"core.js","sources":["../src/js/core.js"],"sourcesContent":["// src/js/core.js\r\n\r\nconst THEME_KEY = \"tm_theme\";\r\nconst PALETTE_KEY = \"tm_palette\";\r\nconst DIRECTION_KEY = \"tm_dir\";\r\n\r\nlet currentTheme = localStorage.getItem(THEME_KEY)\r\n    || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');\r\nlet currentPalette = localStorage.getItem(PALETTE_KEY) || \"default\";\r\nlet currentDirection = localStorage.getItem(DIRECTION_KEY) || \"ltr\";\r\n\r\nconst themeLinkId = \"theme-css\";\r\n\r\nfunction applyCssFile() {\r\n    const fileName = `theme-${currentTheme}.${currentPalette}${currentDirection === 'rtl' ? '.rtl' : 'ltr'}.css`;\r\n    const href = `dist/${fileName}`;\r\n    const linkTag = document.getElementById(themeLinkId);\r\n    console.log(fileName)\r\n    document.body.className = `theme-${currentTheme} palette-${currentPalette}`;\r\n    document.documentElement.setAttribute(\"dir\", currentDirection);\r\n\r\n\r\n    if (linkTag) {\r\n        linkTag.setAttribute(\"href\", href);\r\n    } else {\r\n        const link = document.createElement(\"link\");\r\n        link.id = themeLinkId;\r\n        link.rel = \"stylesheet\";\r\n        link.href = href;\r\n        document.head.appendChild(link);\r\n    }\r\n}\r\n\r\nfunction setTheme(theme) {\r\n    currentTheme = theme;\r\n    localStorage.setItem(THEME_KEY, theme);\r\n    applyCssFile();\r\n}\r\n\r\nfunction setPalette(palette) {\r\n    currentPalette = palette;\r\n    localStorage.setItem(PALETTE_KEY, palette);\r\n    applyCssFile();\r\n}\r\n\r\nfunction setDirection(dir) {\r\n    currentDirection = dir;\r\n    localStorage.setItem(DIRECTION_KEY, dir);\r\n    document.documentElement.setAttribute(\"dir\", dir);\r\n    applyCssFile();\r\n}\r\n\r\nexport function initThemeSystem() {\r\n    document.documentElement.setAttribute(\"dir\", currentDirection);\r\n    applyCssFile();\r\n}\r\n\r\nexport function toggleTheme() {\r\n    setTheme(currentTheme === \"light\" ? \"dark\" : \"light\");\r\n}\r\n\r\nexport function applyPalette(palette) {\r\n    setPalette(palette);\r\n}\r\n\r\nexport function toggleDirection() {\r\n    setDirection(currentDirection === \"ltr\" ? \"rtl\" : \"ltr\");\r\n}\r\n\r\nexport function getCurrentConfig() {\r\n    return {\r\n        theme: currentTheme,\r\n        palette: currentPalette,\r\n        direction: currentDirection,\r\n    };\r\n}\r\nexport function resetThemeSystem() {\r\n    localStorage.removeItem(THEME_KEY);\r\n    localStorage.removeItem(PALETTE_KEY);\r\n    localStorage.removeItem(DIRECTION_KEY);\r\n    currentTheme = \"light\";\r\n    currentPalette = \"default\";\r\n    currentDirection = \"ltr\";\r\n    initThemeSystem();\r\n}"],"names":[],"mappings":"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"}